# Replay INI file

# PRE PROCESSING PART
#####################
[SETUP]

#      "123456789012345678901234567890"
info = "Replay (c) 2013 MikeJ"
info = "http://www.fpgaarcade.com/"
info = "A8 core (c) 2014 Mark Watson"
info = "-Joystick1 in upper port----"
info = "-Joystick2 in lower port----"
info = "-Keyboard in lower PS/2 in -"
info = "-Start/Select/Option(F2-F4)-"

bin = atari800.bin

# sets initial clocking (PLL)
#CLOCK = NTSC
#
# y0 - FPGA DRAM/sys clk
# y1 - Coder
# y2 - FPGA aux/audio clk
# y3 - Expansion Main
# y4 - FPGA video
# y5 - Expansion Small
# OUTPUT_y = (27 * Nx / Mx) / PDy     (if YSy=1, PSy selects PLL "x")
#
#         PLL1      PLL2      PLL3      1/2/4..PLL1/2/4 0..byp.    outp. divider          outp.enable
#         M1   N1   M2   N2   M3   N3   ps0 ps1 ps2 ps3 ps4 ps5 pd0 pd1 pd2 pd3 pd4 pd5 ys0 ys1 ys2 ys3 ys4 ys5
#SYSCLK=4436250Hz, Nsys=1183, Msys=300, Psys=1 ... VIDCLK=27035651Hz, Nvid=2275, Mvid=284, Pvid=8
#CLOCK =   284,2275, 300,1183,  46, 423,  2,  4,  4,  0,  1,  0,  1, 14,  5,  1,  8,  1,  1,  1,  1,  0,  1,  0
#SYSCLK=7116310Hz, Nsys=1729, Msys=205, Psys=2 ... VIDCLK=27010289HZ, Nvid=2625, Mvid=328, Pvid=8
CLOCK =    328,2625, 205,1729,  46, 423,  2,  4,  4,  0,  1,  0,  2, 14,  5,  1,  8,  1,  1,  1,  1,  0,  1,  0


# sets composite/svhs coder, if fitted
coder =  PAL

# sets video filter for all 3 channels
# dc=250mv, 9MHZ
VFILTER = 0, 0, 3

# configures what will be available on FPGA after bin is loaded,
# if a line is ommited, the interface will be not used at all (= all zero)
#
# twi for further video configuration
#
#         vid
en_twi =   1

# spi for:
#     cfg to send config word
#     osd for OSD support (required for menu handling)
#
#         cfg osd
en_spi =   1,  1

# set spi to 6 MHz
#spi_clk = 8

# replay button configuration
#
#        off / menu / reset
button = menu

# POST PROCESSING PART
######################

# VGA/DVI settings, "EN_TWI" must be set to one !
#           0x1c 0x1d 0x1e 0x1f 0x20 0x21 0x23 0x31 0x33 0x34 0x35 0x36 0x37 0x48 0x49 0x56
video =     0x00,0x48,0xC0,0x80,0x00,0x01,0x00,0x80,0x08,0x16,0x30,0x60,0x00,0x18,0xC0,0x00

# 2x32bit static+dynamic configuration bits, "CFG" in EN_SPI must be set to one!
# It is only required if no menu setup is given (which manipulates the settings as well)
#         31                             0,  31                             0
config = *11111111111111111111111111111111, *11111111111111111111111111111111

[UPLOAD]
VERIFY = 1
#This doesn't seem to work - need to work out how to sim/debug...
#Checked addresses in sim
#TODO - check the output on rs232
ROM = xlorig.rom,0x4000, 0x704000
ROM = xlhias.rom,0x4000, 0x708000
ROM = ultimon.rom,0x4000, 0x70c000
ROM = osbhias.rom,0x4000, 0x710000
ROM = osborig.rom,0x2800, 0x715800
ROM = osaorig.rom,0x2800, 0x719800

ROM = ataribas.rom,0x2000,0x700000

# we can use this to modify the Replay keyboard mapper
# the LUT is located from 0x00020000 to 0x000201FF, each key uses two bytes, 
# each byte describe one x/y position in the matrix (thus, one key can be
# mapped to two keys on the matrix):   0yyyxxxx ... matrix key map output
#                                      1sssssss ... static key map output

#How does this not conflict with RAM? I use this area...

DATA = 0xff,0xff,0x00020000,2
DATA = 0xff,0xff,0x00020002,2
DATA = 0xff,0xff,0x00020004,2
DATA = 0x88,0xff,0x00020006,2
DATA = 0xa0,0xff,0x00020008,2
DATA = 0,0xff,0x0002000A,2
DATA = 0xc0,0xff,0x0002000C,2
DATA = 0xff,0xff,0x0002000E,2
DATA = 0xff,0xff,0x00020010,2
DATA = 0xff,0xff,0x00020012,2
DATA = 0xff,0xff,0x00020014,2
DATA = 0xff,0xff,0x00020016,2
DATA = 0x90,0xff,0x00020018,2
DATA = 0x54,0xff,0x0002001A,2
DATA = 0xff,0xff,0x0002001C,2
DATA = 0xff,0xff,0x0002001E,2
DATA = 0xff,0xff,0x00020020,2
DATA = 0xff,0xff,0x00020022,2
DATA = 0x81,0xff,0x00020024,2
DATA = 0xff,0xff,0x00020026,2
DATA = 0x82,0xff,0x00020028,2
DATA = 0x57,0xff,0x0002002A,2
DATA = 0x37,0xff,0x0002002C,2
DATA = 0xff,0xff,0x0002002E,2
DATA = 0xff,0xff,0x00020030,2
DATA = 0xff,0xff,0x00020032,2
DATA = 0x27,0xff,0x00020034,2
DATA = 0x76,0xff,0x00020036,2
DATA = 0x77,0xff,0x00020038,2
DATA = 0x56,0xff,0x0002003A,2
DATA = 0x36,0xff,0x0002003C,2
DATA = 0xff,0xff,0x0002003E,2
DATA = 0xff,0xff,0x00020040,2
DATA = 0x22,0xff,0x00020042,2
DATA = 0x26,0xff,0x00020044,2
DATA = 0x72,0xff,0x00020046,2
DATA = 0x52,0xff,0x00020048,2
DATA = 0x30,0xff,0x0002004A,2
DATA = 0x32,0xff,0x0002004C,2
DATA = 0xff,0xff,0x0002004E,2
DATA = 0xff,0xff,0x00020050,2
DATA = 0x41,0xff,0x00020052,2
DATA = 0x20,0xff,0x00020054,2
DATA = 0x70,0xff,0x00020056,2
DATA = 0x55,0xff,0x00020058,2
DATA = 0x50,0xff,0x0002005A,2
DATA = 0x35,0xff,0x0002005C,2
DATA = 0xff,0xff,0x0002005E,2
DATA = 0xff,0xff,0x00020060,2
DATA = 0x43,0xff,0x00020062,2
DATA = 0x25,0xff,0x00020064,2
DATA = 0x71,0xff,0x00020066,2
DATA = 0x75,0xff,0x00020068,2
DATA = 0x53,0xff,0x0002006A,2
DATA = 0x33,0xff,0x0002006C,2
DATA = 0xff,0xff,0x0002006E,2
DATA = 0xff,0xff,0x00020070,2
DATA = 0xff,0xff,0x00020072,2
DATA = 0x45,0xff,0x00020074,2
DATA = 0x1,0xff,0x00020076,2
DATA = 0x13,0xff,0x00020078,2
DATA = 0x63,0xff,0x0002007A,2
DATA = 0x65,0xff,0x0002007C,2
DATA = 0xff,0xff,0x0002007E,2
DATA = 0xff,0xff,0x00020080,2
DATA = 0x40,0xff,0x00020082,2
DATA = 0x5,0xff,0x00020084,2
DATA = 0x15,0xff,0x00020086,2
DATA = 0x10,0xff,0x00020088,2
DATA = 0x62,0xff,0x0002008A,2
DATA = 0x60,0xff,0x0002008C,2
DATA = 0xff,0xff,0x0002008E,2
DATA = 0xff,0xff,0x00020090,2
DATA = 0x42,0xff,0x00020092,2
DATA = 0x46,0xff,0x00020094,2
DATA = 0x0,0xff,0x00020096,2
DATA = 0x2,0xff,0x00020098,2
DATA = 0x12,0xff,0x0002009A,2
DATA = 0x66,0xff,0x0002009C,2
DATA = 0xff,0xff,0x0002009E,2
DATA = 0xff,0xff,0x000200A0,2
DATA = 0xff,0xff,0x000200A2,2
DATA = 0x6,0xff,0x000200A4,2
DATA = 0xff,0xff,0x000200A6,2
DATA = 0x16,0xff,0x000200A8,2
DATA = 0x67,0xff,0x000200AA,2
DATA = 0xff,0xff,0x000200AC,2
DATA = 0xff,0xff,0x000200AE,2
DATA = 0x74,0xff,0x000200B0,2
DATA = 0x81,0xff,0x000200B2,2
DATA = 0x14,0xff,0x000200B4,2
DATA = 0x17,0xff,0x000200B6,2
DATA = 0xff,0xff,0x000200B8,2
DATA = 0x7,0xff,0x000200BA,2
DATA = 0xff,0xff,0x000200BC,2
DATA = 0xff,0xff,0x000200BE,2
DATA = 0xff,0xff,0x000200C0,2
DATA = 0xff,0xff,0x000200C2,2
DATA = 0xff,0xff,0x000200C4,2
DATA = 0xff,0xff,0x000200C6,2
DATA = 0xff,0xff,0x000200C8,2
DATA = 0xff,0xff,0x000200CA,2
DATA = 0x64,0xff,0x000200CC,2
DATA = 0xff,0xff,0x000200CE,2
DATA = 0xff,0xff,0x000200D0,2
DATA = 0xff,0xff,0x000200D2,2
DATA = 0xff,0xff,0x000200D4,2
DATA = 0xff,0xff,0x000200D6,2
DATA = 0xff,0xff,0x000200D8,2
DATA = 0xff,0xff,0x000200DA,2
DATA = 0xff,0xff,0x000200DC,2
DATA = 0xff,0xff,0x000200DE,2
DATA = 0xff,0xff,0x000200E0,2
DATA = 0xff,0xff,0x000200E2,2
DATA = 0xff,0xff,0x000200E4,2
DATA = 0xff,0xff,0x000200E6,2
DATA = 0xff,0xff,0x000200E8,2
DATA = 0xff,0xff,0x000200EA,2
DATA = 0x34,0xff,0x000200EC,2
DATA = 0xff,0xff,0x000200EE,2
DATA = 0xff,0xff,0x000200F0,2
DATA = 0xff,0xff,0x000200F2,2
DATA = 0xff,0xff,0x000200F4,2
DATA = 0xff,0xff,0x000200F6,2
DATA = 0xff,0xff,0x000200F8,2
DATA = 0xff,0xff,0x000200FA,2
DATA = 0xff,0xff,0x000200FC,2
DATA = 0xff,0xff,0x000200FE,2
DATA = 0xff,0xff,0x00020100,2
DATA = 0xff,0xff,0x00020102,2
DATA = 0xff,0xff,0x00020104,2
DATA = 0xff,0xff,0x00020106,2
DATA = 0xff,0xff,0x00020108,2
DATA = 0xff,0xff,0x0002010A,2
DATA = 0xff,0xff,0x0002010C,2
DATA = 0xff,0xff,0x0002010E,2
DATA = 0xff,0xff,0x00020110,2
DATA = 0xff,0xff,0x00020112,2
DATA = 0xff,0xff,0x00020114,2
DATA = 0xff,0xff,0x00020116,2
DATA = 0xff,0xff,0x00020118,2
DATA = 0xff,0xff,0x0002011A,2
DATA = 0xff,0xff,0x0002011C,2
DATA = 0xff,0xff,0x0002011E,2
DATA = 0xff,0xff,0x00020120,2
DATA = 0x47,0xff,0x00020122,2
DATA = 0xff,0xff,0x00020124,2
DATA = 0xff,0xff,0x00020126,2
DATA = 0x82,0xff,0x00020128,2
DATA = 0xff,0xff,0x0002012A,2
DATA = 0xff,0xff,0x0002012C,2
DATA = 0xff,0xff,0x0002012E,2
DATA = 0xff,0xff,0x00020130,2
DATA = 0xff,0xff,0x00020132,2
DATA = 0xff,0xff,0x00020134,2
DATA = 0xff,0xff,0x00020136,2
DATA = 0xff,0xff,0x00020138,2
DATA = 0xff,0xff,0x0002013A,2
DATA = 0xff,0xff,0x0002013C,2
DATA = 0xff,0xff,0x0002013E,2
DATA = 0xff,0xff,0x00020140,2
DATA = 0xff,0xff,0x00020142,2
DATA = 0xff,0xff,0x00020144,2
DATA = 0xff,0xff,0x00020146,2
DATA = 0xff,0xff,0x00020148,2
DATA = 0xff,0xff,0x0002014A,2
DATA = 0xff,0xff,0x0002014C,2
DATA = 0xff,0xff,0x0002014E,2
DATA = 0xff,0xff,0x00020150,2
DATA = 0xff,0xff,0x00020152,2
DATA = 0xff,0xff,0x00020154,2
DATA = 0xff,0xff,0x00020156,2
DATA = 0xff,0xff,0x00020158,2
DATA = 0xff,0xff,0x0002015A,2
DATA = 0xff,0xff,0x0002015C,2
DATA = 0xff,0xff,0x0002015E,2
DATA = 0xff,0xff,0x00020160,2
DATA = 0xff,0xff,0x00020162,2
DATA = 0xff,0xff,0x00020164,2
DATA = 0xff,0xff,0x00020166,2
DATA = 0xff,0xff,0x00020168,2
DATA = 0xff,0xff,0x0002016A,2
DATA = 0xff,0xff,0x0002016C,2
DATA = 0xff,0xff,0x0002016E,2
DATA = 0xff,0xff,0x00020170,2
DATA = 0xff,0xff,0x00020172,2
DATA = 0xff,0xff,0x00020174,2
DATA = 0xff,0xff,0x00020176,2
DATA = 0xff,0xff,0x00020178,2
DATA = 0xff,0xff,0x0002017A,2
DATA = 0xff,0xff,0x0002017C,2
DATA = 0xff,0xff,0x0002017E,2
DATA = 0xff,0xff,0x00020180,2
DATA = 0xff,0xff,0x00020182,2
DATA = 0xff,0xff,0x00020184,2
DATA = 0xff,0xff,0x00020186,2
DATA = 0xff,0xff,0x00020188,2
DATA = 0xff,0xff,0x0002018A,2
DATA = 0xff,0xff,0x0002018C,2
DATA = 0xff,0xff,0x0002018E,2
DATA = 0xff,0xff,0x00020190,2
DATA = 0xff,0xff,0x00020192,2
DATA = 0xff,0xff,0x00020194,2
DATA = 0xff,0xff,0x00020196,2
DATA = 0xff,0xff,0x00020198,2
DATA = 0xff,0xff,0x0002019A,2
DATA = 0xff,0xff,0x0002019C,2
DATA = 0xff,0xff,0x0002019E,2
DATA = 0xff,0xff,0x000201A0,2
DATA = 0xff,0xff,0x000201A2,2
DATA = 0xff,0xff,0x000201A4,2
DATA = 0xff,0xff,0x000201A6,2
DATA = 0xff,0xff,0x000201A8,2
DATA = 0xff,0xff,0x000201AA,2
DATA = 0xff,0xff,0x000201AC,2
DATA = 0xff,0xff,0x000201AE,2
DATA = 0xff,0xff,0x000201B0,2
DATA = 0xff,0xff,0x000201B2,2
DATA = 0xff,0xff,0x000201B4,2
DATA = 0xff,0xff,0x000201B6,2
DATA = 0xff,0xff,0x000201B8,2
DATA = 0xff,0xff,0x000201BA,2
DATA = 0xff,0xff,0x000201BC,2
DATA = 0xff,0xff,0x000201BE,2
DATA = 0xff,0xff,0x000201C0,2
DATA = 0xff,0xff,0x000201C2,2
DATA = 0xff,0xff,0x000201C4,2
DATA = 0xff,0xff,0x000201C6,2
DATA = 0xff,0xff,0x000201C8,2
DATA = 0xff,0xff,0x000201CA,2
DATA = 0xff,0xff,0x000201CC,2
DATA = 0xff,0xff,0x000201CE,2
DATA = 0xff,0xff,0x000201D0,2
DATA = 0xff,0xff,0x000201D2,2
DATA = 0xff,0xff,0x000201D4,2
DATA = 0xff,0xff,0x000201D6,2
DATA = 0x21,0xff,0x000201D8,2
DATA = 0xff,0xff,0x000201DA,2
DATA = 0xff,0xff,0x000201DC,2
DATA = 0xff,0xff,0x000201DE,2
DATA = 0xff,0xff,0x000201E0,2
DATA = 0xff,0xff,0x000201E2,2
DATA = 0xff,0xff,0x000201E4,2
DATA = 0xff,0xff,0x000201E6,2
DATA = 0xff,0xff,0x000201E8,2
DATA = 0xff,0xff,0x000201EA,2
DATA = 0xff,0xff,0x000201EC,2
DATA = 0xff,0xff,0x000201EE,2
DATA = 0xff,0xff,0x000201F0,2
DATA = 0xff,0xff,0x000201F2,2
DATA = 0xff,0xff,0x000201F4,2
DATA = 0xff,0xff,0x000201F6,2
DATA = 0xff,0xff,0x000201F8,2
DATA = 0xff,0xff,0x000201FA,2
DATA = 0xff,0xff,0x000201FC,2
DATA = 0xff,0xff,0x000201FE,2

[MENU]

## menu entry - ATARIXL A/V
title = "800XL Audio/Video"

item = "Double scan",     0x00010000,dynamic
option = "Yes (HD mode)", 0x00010000,default
option = "No  (SD mode)", 0x00000000

item = "Audio level", 0x00060000,dynamic
option = "Max (3)",   0x00060000,default
option = "Med (2)",   0x00040000
option = "Med (1)",   0x00020000
option = "Min (0)",   0x00000000

## menu entry - ATARIXL SETUP
title = "800XL Setup"

item = "RAM Expansion",0x00000007,dynamic
option = "64KB",       0x00000000,default
option = "128KB",      0x00000001
option = "320KB(Compy)",      0x00000002
option = "320KB(Rambo)",      0x00000003
option = "576KB(Compy)",      0x00000004
option = "576KB(Rambo)",      0x00000005
option = "1088KB",      0x00000006
option = "4MB!",      0x00000007

item = "OS",0x000001f8,dynamic
option = "XL original",0x00000008,default
option = "XL fast sio",0x00000010
option = "Ultimon",0x00000018
option = "OSB fast",0x00000020
option = "OSB original",0x00000028
option = "OSA original",0x00000030

